<div class="infobox">
	<table class="unstyled">
		<tr>
			<td class="infobox-name" colspan="2">
				{{ .name }}
			</td>
		</tr>
		<tr>
			<td colspan="2">
				{{ if (fileExists (delimit (slice "static/assets/img/addons/" .id ".png") "")) -}}
					<img src="/assets/img/addons/{{ .id }}.png" alt="{{ .name }}" class="infobox-img">
				{{- end }}
			</td>
		</tr>
		<tr>
			<td class="infobox-label">ID</td>
			<td class="infobox-data">{{ .id }}</td>
		</tr>
		<tr>
			<td class="infobox-label">Description</td>
			<td class="infobox-data">{{ .description }}</td>
		</tr>
		<tr>
			<td class="infobox-label">Credits</td>
			<td class="infobox-data">
				<ul>{{ range .credits }}
					<li>
						{{ if isset . "link" }}
							<a href="{{ .link }}">{{ .name }}</a>
						{{ else }}
							{{ .name }}
						{{ end }}
						{{ with .note }}({{ . }}){{ end }}
					</li>
				{{ end }}</ul>
			</td>
		</tr>
		<tr>
			<td class="infobox-label">Tags</td>
			<td class="infobox-data">
				{{ range .tags }}
					<span class="badge badge-primary">{{ . }}</span>
				{{ end }}
			</td>
		</tr>
		<tr>
			<td class="infobox-label">Version added</td>
			<td class="infobox-data">{{ with .versionAdded }}{{ . }}{{ else }}No{{ end }}</td>
		</tr>
		{{ with .latestUpdate }}<tr>
			<td class="infobox-label">Latest update</td>
			<td class="infobox-data">
				{{ .version }}
				{{ if .isMajor }}
					<span class="badge badge-primary">major</span>
				{{ end }}
			</td>
		</tr>{{ end }}
		{{ with .info }}<tr>
			<td class="infobox-label">Informations</td>
			<td class="infobox-data"><ul>
				<!-- TODO: Do better way to display types -->
				{{ range . }}
					<li data-info-id="{{ .id }}">{{ if .type }}{{ .type }}: {{ end }}{{ .text }}</li>
				{{ end }}
			</ul></td>
		</tr>{{ end }}
		{{ if ( or .enabledByDefault .dynamicEnable .injectAsStyleElt .updateUserstylesOnSettingsChange ) }}<tr>
			<td class="infobox-label">Feature flags</td>
			<td class="infobox-data">
				{{ with .enabledByDefault }}
				<span class="badge badge-primary">Enabled by default</span>
				{{ end }}
				{{ with .dynamicEnable }}
				<span class="badge badge-primary">Dynamic enable</span>
				{{ end }}
				{{ with .dynamicDisable }}
				<span class="badge badge-primary">Dynamic disable</span>
				{{ end }}
				{{ with .injectAsStyleElt }}
				<span class="badge badge-primary">Inject as style element</span>
				{{ end }}
				{{ with .updateUserstylesOnSettingsChange }}
				<span class="badge badge-primary">Update userstyle on settings change</span>
				{{ end }}
			</td>
		</tr>{{ end }}
		<tr>
			<td class="infobox-data" colspan="2">
				<a href='https://github.com/ScratchAddons/ScratchAddons/tree/master/addons/{{ .id }}' rel="noopener">Source code</a>
			</td>
		</tr>
	</table>
</div>